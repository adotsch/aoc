i:read0`21.txt
//part 1
value@'ssr/[;":/";("::";"%")]@'i;
"j"$root
//part 2
F:get"{humn::x;",("-"sv string get[`. `root]2),"}"
"j"${x - .1 * Fx % F[x+.1] - Fx:F x}/[0] 

/

The same as day21.q but leveraging q's views.
Idea from Igor Korkhov.